<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Socket.io</title>
  </head>
  <body>
    <h1>Express and socket.io</h1>
    <div id="news-list"></div>
    <script src="static/socket.io/node_modules/socket.io-client/socket.io.js"></script>
    <script>
      var socket = io('http://localhost:3400');

      socket.on('alert', function(data) {
        var div = document.getElementById('news-list');
        console.log('Rendering news : ', data);

        for (var i = 0; i < data.length; i++) {
          var newsItem = data[i];
          div.innerHTML +=
            '<h3>' +
            newsItem.title +
            ' <small>' +
            newsItem.date +
            '</small></h3><br>';
        }
      });
    </script>
  </body>
</html>
